plugins {
  id 'java'
}

task prep {
	def f = new File('lib/jsyn_16_7_0.jar')
	if (!f.exists()) {
	    new URL('http://www.softsynth.com/jsyn/developers/archives/jsyn_16_7_0.jar').withInputStream{ i -> f.withOutputStream{ it << i }}
	}
}

dependencies {
	implementation files('lib/jsyn_16_7_0.jar')   
}

jar {
	duplicatesStrategy = DuplicatesStrategy.INCLUDE
    manifest {
        attributes 'Main-Class': 'jlooch.swing.SwingLooch'
    }
	from {
		configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}
